---
title: "Kitagawa-Oaxaca-Blinder Decomposition"
format: html
toc: true
number-sections: true
---

# Introduction

The purpose of this document is to detail the software that runs the Kitagawa-Oaxaca-Blinder decomposition.

# Stages

To produce a Kitagawa-Oaxaca-Blinder decomposition, it is necessary to [TODO: write a couple of paragraphs on this, citing original sources].

One of the beautiful things about Kitagawa's original analysis was that it was fully categorical. Though she did not describe it that way, she essentially ran a fully interacted regression and used the resulting coefficients in her decomposition.

The beauty of this approach is that **population averages in the two reference periods are fully sufficient to produce the KOB decomposition**: no microdata are needed.

She did not include standard errors in her original estimates, but those are straightforward to produce in the outcome estimates using the technique described by the Census [here](ADD A LINK!!!!!!).

## Mathematical Form

On a fully categorical regression, this takes on the following functional form:

$$
\Delta \bar{Y} = (\bar{X}_A - \bar{X}_B) \cdot \beta_B + \bar{X}_B \cdot (\beta_A - \beta_B)
$$

Where:

- $\bar{Y}$ is the average outcome,
- $\bar{X}$ is the vector of average covariate values,
- $\beta$ are the estimated coefficients from the fully categorical regression,
- and $A$, $B$ refer to the two time periods or groups being compared.


